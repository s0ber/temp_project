!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ALL_KEYS={C:"C",Db:"C#",D:"D",Eb:"D#",E:"E",F:"F",Gb:"F#",G:"G",Ab:"G#",A:"A",Bb:"A#",B:"B"};t.BASIC_KEYS=Object.keys(r),t.INTERVALS={H:1,W:2},t.MINOR_SCALE=["W","H","W","W","H","W"],t.KEY_INTERVALS=[["m","7"],["dim","7"],["M","maj7"],["m","7"],["m","7"],["M","maj7"],["M","7"]],t.INVERSIONS={triads:["Root","1st","2nd"],seventh:["Root","1st","2nd","3rd"]},t.TIMEOUT_OPTIONS=[1e3,2e3,3e3,4e3,5e3,6e3,7e3]},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(0);t.default=function(n){return o(i(n))};var o=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return'\n  <div class="layout">'+t.join("")+"</>\n"},i=function(n){var t=n.showSettings,e=n.showSeventh,r=n.key,o=n.timeout,i=n.inversions,c=n.randomChord;return t?u(r,o,e,i):s(c,o)},s=function(n,t){return setTimeout(Actions.updateChord,t),'\n    <div class="random_chord">\n      '+n+'\n    </div>\n    <button onclick="Actions.openSettings()" type="button">Settings</button>\n    '},u=function(n,t,e,o){return'\n  <form>\n    <div class="setting">\n      '+r.BASIC_KEYS.map(function(t){return c(t,n)}).join("")+'\n    </div>\n    <div class="setting">\n      '+r.TIMEOUT_OPTIONS.map(function(n){return a(n,t)}).join("")+'\n    </div>\n    <div class="setting">\n      '+l(e)+'\n    </div>\n    <div class="setting">\n      '+r.INVERSIONS[e?"seventh":"triads"].map(function(n){return d(n,o)}).join("")+'\n    </div>\n    <button onclick="Actions.closeSettings()" type="button">Close</button>\n  </form>\n'},c=function(n,t){return'\n  <div class="key_option '+(t===n?"is-selected":"")+'" onclick="Actions.selectKey(\''+n+"')\">\n    "+n+"\n  </div>\n"},a=function(n,t){return'\n  <div class="timeout_option '+(t===n?"is-selected":"")+'" onclick="Actions.selectTimeout('+n+')">\n    '+parseInt(n/1e3)+"s\n  </div>\n"},l=function(n){return'\n  <div class="seventh_toggler '+(n?"is-selected":"")+'" onclick="Actions.toggleSeventh()">\n    Seventh Chords\n  </div>\n'},d=function(n,t){return'\n  <div class="inversion_option '+(-1!==t.indexOf(n)?"is-selected":"")+'" onclick="Actions.toggleInversion(\''+n+"')\">\n    "+n+"\n  </div>\n"}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done)&&(e.push(s.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(0);function i(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}var s=function(n){var t=n.key,e=n.showSeventh,s=n.inversions,u=o.KEY_INTERVALS;return function(n){return o.MINOR_SCALE.reduce(function(n,t){var e=n[n.length-1],r=o.BASIC_KEYS.indexOf(e);return[].concat(i(n),[o.BASIC_KEYS[(r+o.INTERVALS[t])%o.BASIC_KEYS.length]])},[n])}(t).reduce(function(n,t,c){var a=r(u[c],2),l=a[0],d=a[1],f=t+("M"===l?"":l),v=o.INVERSIONS.triads.filter(function(n){return-1!==s.indexOf(n)}).map(function(n){return f+'<br><span class="inversion">'+n+"</span>"}),h=[];if(e){var S=f+'<span class="seventh_chord_type">'+d+"</span>";h=o.INVERSIONS.seventh.filter(function(n){return-1!==s.indexOf(n)}).map(function(n){return S+'<br><span class="inversion">'+n+"</span>"})}return[].concat(i(n),i(v),i(h))},[])},u={selectKey:function(n,t){n.key=t},selectTimeout:function(n,t){n.timeout=t},openSettings:function(n){n.showSettings=!0},closeSettings:function(n){u.updateChord(n),n.showSettings=!1},toggleSeventh:function(n){n.showSeventh=!n.showSeventh},toggleInversion:function(n,t){var e=n.inversions,r=e.indexOf(t);if(-1!==r){if(1===n.inversions.length)return;n.inversions=[].concat(i(e.slice(0,r)),i(e.slice(r+1,e.length)))}else n.inversions.push(t)},updateChord:function(n){for(var t,e,r=s(n),o=n.randomChord;r.length&&!o||o===n.randomChord;)o=r[(t=r.length-1,e=void 0,null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1)))];n.randomChord=o}};t.default=function(n,t){var e=t.afterAction,r={},o=function(t){r[t]=function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];u[t].apply(u,[n].concat(o)),e()}};for(var i in u)o(i);return r}},function(n,t,e){"use strict";var r=s(e(2)),o=s(e(1)),i=e(0);function s(n){return n&&n.__esModule?n:{default:n}}var u=JSON.parse(localStorage.getItem("chords_app"))||{key:i.BASIC_KEYS[0],currentChordIndex:null,showSettings:!0,randomChord:null,timeout:i.TIMEOUT_OPTIONS[0],showSeventh:!1,inversions:[i.INVERSIONS.triads[0]]};window.Actions=(0,r.default)(u,{afterAction:function(){c(u),localStorage.setItem("chords_app",JSON.stringify(u))}});var c=function(){document.body.innerHTML=(0,o.default)(u)};Actions.updateChord()}]);