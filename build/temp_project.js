!function(e){var t={};function o(n){if(t[n])return t[n].exports;var d=t[n]={i:n,l:!1,exports:{}};return e[n].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=(...e)=>`\n  <div class="layout">${e.join("")}</>\n`;var d=()=>'\n  <div class="top_menu"></div>\n';var l=(...e)=>`\n  <div class="workspace">${e.join("")}</div>\n`;var s=(e,t)=>`\n  <div class="folder ${t?" is-selected":""}" onclick="Actions.selectFolder(${e.id})">${e.title}</div>\n`;var r=(e,t)=>`\n  <div class="folders">\n    <ul class="folders_list"/>${e.length>0?e.map(e=>s(e,e.id===t)).join(""):"Please add your first folder"}</ul>\n    <button onclick="Actions.addFolder()">Add folder</button>\n  </div>\n`;var i=(e,t)=>`\n  <div class="note ${t?" is-selected":""}" onclick="Actions.selectNote(${e.id})">${e.title}</div>\n`;var a=(e,t,o)=>{if(t){const n=e.filter(e=>e.folder_id===t);return`\n      <div class="notes"/>\n        <ul class="notes_list">${n.length>0?n.map(e=>i(e,e.id===o)).join(""):"Please add your first note in this folder"}</ul>\n        <button onclick="Actions.addNoteToFolder(${t})">Add note</button>\n      </div>\n    `}return'<ul class="notes"/>Please select folder first</ul>'};var c=e=>`\n  <h1>${e.title}</h1>\n  <p class="note-text">${e.text}</p>\n`;var u=e=>`\n  <div class="selected_note">${e?c(e):"<b>Please select note</b>"}</div>\n`;var f=()=>'\n  <div class="footer"></div>\n';var v=({ui:e,data:t})=>{const{selectedFolderId:o,selectedNoteId:s}=e,i=o&&t.folders.find(e=>e.id===o)&&s?t.notes.find(e=>e.id===s):null;return n(d(),l(r(t.folders,o),a(t.notes,o,s),u(i)),f())};const p=JSON.parse(localStorage.getItem("notes"))||{data:{folders:[],notes:[]},ui:{selectedFolderId:null,selectedNoteId:null}};window.Actions=((e,{afterAction:t})=>({addFolder:o=>{const n=e.data.folders.length,d=prompt("Please provide folder title",`Folder ${n+1}`);e.data.folders.push({title:d,id:n+1}),t()},selectFolder:o=>{e.ui.selectedFolderId=o,t()},addNoteToFolder:o=>{e.data.folders.find(e=>e.id===o);const n=e.data.notes.length,d=e.data.notes.filter(e=>e.folder_id===o).length,l=prompt("Please provide note title",`Note ${d+1}`);if(!l||!l.trim())return;const s=prompt("Please provide note description","");s&&s.trim()&&(e.data.notes.push({id:n+1,title:l,text:s,folder_id:o}),t())},selectNote:o=>{e.ui.selectedNoteId=o,t()}}))(p,{afterAction:()=>{$(p),localStorage.setItem("notes",JSON.stringify(p))}});const $=()=>{document.body.innerHTML=v(p)};$()}]);